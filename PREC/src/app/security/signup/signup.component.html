<div class="body">
  <h1>Sign Up</h1>

  <form (submit)="submitForm()" [formGroup]="form" autocomplete="on">
    <div>
      <mat-form-field  appearance="outline" >
        <mat-label>First Name</mat-label>

        <input matInput
        required
        formControlName="firstName"
        placeholder="John">


        <mat-error *ngIf="form.controls.firstName.errors?.required" >
          First Name is required
        </mat-error>
      </mat-form-field>

      <mat-form-field  appearance="outline" >
        <mat-label>Last Name</mat-label>

        <input matInput
        required
        formControlName="lastName"
        placeholder="Doe">


        <mat-error *ngIf="form.controls.lastName.errors?.required" >
          Last Name is required
        </mat-error>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field  appearance="outline" >
        <mat-label>Email</mat-label>

        <input matInput
        required
        formControlName="email"
        placeholder="example@example.com">


        <mat-error *ngIf="form.controls.email.errors?.required" >
          An email is required to sign up
        </mat-error>
        <mat-error *ngIf="form.controls.email.errors?.email" >
          Not a valid email address
        </mat-error>
      </mat-form-field>

      <mat-form-field *ngIf="mode !== 'settings'" appearance="outline" >
        <mat-label>Password</mat-label>

        <input matInput
        type="password"
        required
        autocomplete="on"
        formControlName="password">

        <mat-error *ngIf="form.controls.password.errors?.required" >
          Password is required
        </mat-error>
      </mat-form-field>
    </div>

    <div class="checkboxes">
      <div *ngFor="let platform of checkBoxPlatforms; let i = index" formArrayName="platforms">
        <mat-checkbox [formControlName]="i" >{{platform}}</mat-checkbox>
      </div>
    </div>

    <div>
      <mat-form-field  *ngIf="this.form.value['platforms'][0]" appearance="outline" >
        <mat-label>Playstation ID</mat-label>

        <input matInput
        formControlName="psnID">

      </mat-form-field>

      <mat-form-field *ngIf="this.form.value['platforms'][1]" appearance="outline" >
        <mat-label>Xbox ID</mat-label>

        <input matInput
        formControlName="xboxgamertag">
      </mat-form-field>

      <mat-form-field *ngIf="this.form.value['platforms'][2]" appearance="outline" >
        <mat-label>Steam ID</mat-label>

        <input matInput
        formControlName="steamID">
      </mat-form-field>
    </div>

    <button class="submitBTN" *ngIf="mode !== 'settings'" type="submit" [disabled]="!form.valid" >Create account</button>
    <button class="submitBTN" *ngIf="mode === 'settings'" type="submit" [disabled]="!form.valid" >Update</button>

  </form>

  <a routerLink="../login" routerLinkActive="active" >Have an account?</a>
</div>
