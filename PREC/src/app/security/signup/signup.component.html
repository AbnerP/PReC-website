<div class="body">
  <h1>Sign Up</h1>

  <form (submit)="saveChanges()" [formGroup]="form" autocomplete="on">
    <div>
      <mat-form-field  appearance="outline" >
        <mat-label>First Name</mat-label>

        <input matInput
        required
        formControlName="firstName"
        placeholder="John">


        <mat-error *ngIf="form.controls.firstName.errors?.required" >
          Field is required
        </mat-error>
      </mat-form-field>

      <mat-form-field  appearance="outline" >
        <mat-label>Last Name</mat-label>

        <input matInput
        required
        formControlName="lastName"
        placeholder="Doe">


        <mat-error *ngIf="form.controls.lastName.errors?.required" >
          Field is required
        </mat-error>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field  appearance="outline" >
        <mat-label>Email</mat-label>

        <input matInput
        required
        formControlName="email"
        placeholder="example@example.com">


        <mat-error *ngIf="form.controls.email.errors?.required" >
          Field is required
        </mat-error>
      </mat-form-field>

      <mat-form-field  appearance="outline" >
        <mat-label>Password</mat-label>

        <input matInput
        type="password"
        required
        autocomplete="on"
        formControlName="password">


        <mat-error *ngIf="form.controls.password.errors?.required" >
          Field is required
        </mat-error>
      </mat-form-field>
    </div>

    <div class="checkboxes">
      <div *ngFor="let platform of checkBoxPlatforms; let i = index" formArrayName="platforms">
        <mat-checkbox [formControlName]="i" >{{platform}}</mat-checkbox>
      </div>
    </div>

    <div>
      <mat-form-field  *ngIf="this.form.value['platforms'][0]" appearance="outline" >
        <mat-label>Playstation ID</mat-label>

        <input matInput
        formControlName="psnID">


        <mat-error *ngIf="form.controls.psnID.errors?.required" >
          Field is required
        </mat-error>
      </mat-form-field>

      <mat-form-field *ngIf="this.form.value['platforms'][1]" appearance="outline" >
        <mat-label>Xbox ID</mat-label>

        <input matInput
        formControlName="xboxgamertag">


        <mat-error *ngIf="form.controls.xboxgamertag.errors?.required" >
          Field is required
        </mat-error>
      </mat-form-field>

      <mat-form-field *ngIf="this.form.value['platforms'][2]" appearance="outline" >
        <mat-label>Steam ID</mat-label>

        <input matInput
        formControlName="steamID">


        <mat-error *ngIf="form.controls.steamID.errors?.required" >
          Field is required
        </mat-error>
      </mat-form-field>
    </div>

    <button class="submitBTN" type="submit" [disabled]="!form.valid" (click)="saveChanges()">Create account</button>

  </form>

  <a routerLink="../login" routerLinkActive="active" >Have an account?</a>
</div>
